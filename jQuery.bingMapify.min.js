var XmlHttpRequest=XMLHttpRequest;(function(b){"use strict";var f=function(b,a){return b.replace(/\{\{|\}\}|\{(\w+)\}/g,function(b,c){return b==="{{"?"{":b==="}}"?"}":a[c]})},d={bingMapCredentials:null,mapPins:[{lat:"38.685509760012",lon:"-96.50390625",title:"",location:"",address:"",pinNumber:null}],mapTypeId:Microsoft.Maps.MapTypeId.auto,zoom:10,enableClickableLogo:true,enableSearchLogo:true,showCopyright:true,showDashboard:true,showLogo:true,infoBoxString:"{0}<hr>{1}"},a=Microsoft.Maps;function e(a){return Object.prototype.toString.call(a)==="[object Array]"}function c(b){var a=new XmlHttpRequest;a.open("GET",b,false);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(null);try{return JSON.parse(a.responseText)}catch(c){return""}}b.fn.bingMapify=function(j){var g=b.extend({},d,j),h;function i(i,j,e,k,l,c){var d={text:c.toString()},b=new a.Pushpin(new Microsoft.Maps.Location(i,j),d);a.Pushpin.prototype.title=null;b.title=e;a.Pushpin.prototype.description=null;b.description=f(g.infoBoxString,g.mapPins);h.entities.push(b)}return this.each(function(){var k=0,f,j=[],d;h=new a.Map(this,{credentials:g.credentials,mapTypeId:g.mapTypeId,zoom:g.zoom,enableClickableLogo:g.enableClickableLogo,enableSearchLogo:g.enableSearchLogo,showCopyright:g.showCopyright,showDashboard:g.showDashboard,showLogo:g.showLogo,infoBoxString:g.infoBoxString});if(!e(g.mapPins))d=c(g.mapPins);else d=g.mapPins;b.each(d,function(){if(typeof this.Lat!=="undefined"){this.lat=this.Lat;this.lon=this.Lon;this.title=this.Title;this.location=this.Location;this.address=this.Address}j[k++]=new Microsoft.Maps.Location(this.lat,this.lon);i(this.lat,this.lon,this.title,this.location,this.address,k)});f=Microsoft.Maps.LocationRect.fromLocations(j);h.setView({bounds:f})})}})(jQuery)